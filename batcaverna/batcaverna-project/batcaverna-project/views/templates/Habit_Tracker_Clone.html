<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Tracker - Super Saiyan Edition</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & Babel for JSX -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
            background-color: #111827;
            color: #f3f4f6;
        }
        /* Efeito de aura para Super Saiyan */
        .super-saiyan-aura {
            box-shadow: 0 0 15px 5px rgba(250, 204, 21, 0.7), 0 0 30px 10px rgba(251, 146, 60, 0.5);
        }
        .xp-bar-transition {
            transition: width 0.5s ease-in-out;
        }
        .level-up-animation {
            animation: levelUp 0.8s ease-in-out;
        }
        @keyframes levelUp {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        /* Custom scrollbar for better look */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #2d3748;
        }
        ::-webkit-scrollbar-thumb {
            background: #4a5568;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #718096;
        }
        .tab {
            cursor: pointer;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid transparent;
        }
        .tab-active {
            color: white;
            border-bottom-color: #f59e0b; /* amber-500 */
        }
        .progress-ring__circle {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // HabitTrackerPage.jsx - Componente principal seguindo princ√≠pios SOLID
        const HabitTrackerPage = () => {
            const { useState, useEffect, useMemo } = React;
            
            // Dados iniciais
            const initialHabits = [
                { id: 1, icon: 'üí™', text: 'Treinar por 30 minutos', type: 'good', xp: 25, completed: false, lastCompleted: null },
                { id: 2, icon: 'üìñ', text: 'Ler 10 p√°ginas de um livro', type: 'good', xp: 15, completed: false, lastCompleted: null },
                { id: 3, icon: 'üçî', text: 'Comer fast-food', type: 'bad', xp: -10, completed: false, lastCompleted: null },
                { id: 4, icon: 'üíª', text: 'Estudar programa√ß√£o por 1 hora', type: 'good', xp: 20, completed: false, lastCompleted: null },
                { id: 5, icon: 'üì±', text: 'Ficar procrastinando nas redes sociais', type: 'bad', xp: -10, completed: false, lastCompleted: null },
            ];

            const initialPlayer = {
                name: "Guerreiro Z",
                title: "Novato",
                level: 1,
                xp: 0,
                xpToNextLevel: 100,
                avatar: "https://placehold.co/100x100/334155/e2e8f0?text=GZ"
            };

            const initialSkills = [
                { name: 'For√ßa', level: 1, xp: 0, xpToNext: 100 },
                { name: 'Intelig√™ncia', level: 1, xp: 0, xpToNext: 100 },
                { name: 'Disciplina', level: 1, xp: 0, xpToNext: 100 },
                { name: 'Resili√™ncia', level: 1, xp: 0, xpToNext: 100 },
            ];

            // Estado da aplica√ß√£o
            const [player, setPlayer] = useState(() => {
                const savedPlayer = localStorage.getItem('habitPlayer');
                return savedPlayer ? JSON.parse(savedPlayer) : initialPlayer;
            });
            
            const [habits, setHabits] = useState(() => {
                const savedHabits = localStorage.getItem('habits');
                const lastReset = localStorage.getItem('lastReset');
                const today = new Date().toDateString();
                
                if (savedHabits) {
                    const parsedHabits = JSON.parse(savedHabits);
                    
                    // Se j√° resetamos hoje, retornamos os h√°bitos salvos
                    if (lastReset === today) {
                        return parsedHabits;
                    }
                    
                    // Se n√£o resetamos hoje, resetamos os h√°bitos
                    localStorage.setItem('lastReset', today);
                    return parsedHabits.map(habit => ({
                        ...habit,
                        completed: false
                    }));
                }
                
                localStorage.setItem('lastReset', new Date().toDateString());
                return initialHabits;
            });
            
            const [skills, setSkills] = useState(() => {
                const savedSkills = localStorage.getItem('habitSkills');
                return savedSkills ? JSON.parse(savedSkills) : initialSkills;
            });
            
            const [completedHabit, setCompletedHabit] = useState(null);
            const [activeTab, setActiveTab] = useState('habitos');
            const [showAddHabitModal, setShowAddHabitModal] = useState(false);
            const [weeklyProgress, setWeeklyProgress] = useState([]);

            // Verificar se o jogador √© Super Saiyan
            const isSuperSaiyan = useMemo(() => player.level >= 3, [player.level]);
            
            // Status do jogador
            const status = isSuperSaiyan ? "Super Saiyan" : `Guerreiro Z Nv.${player.level}`;

            // Salvar dados no localStorage sempre que mudar
            useEffect(() => {
                localStorage.setItem('habitPlayer', JSON.stringify(player));
                localStorage.setItem('habits', JSON.stringify(habits));
                localStorage.setItem('habitSkills', JSON.stringify(skills));
            }, [player, habits, skills]);

            // Gerar dados de progresso semanal baseado em h√°bitos completados
            useEffect(() => {
                const days = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];
                const today = new Date();
                const currentDay = today.getDay(); // 0 = Domingo
                
                // Inicializar dados da semana
                const weekData = days.map(day => ({ day, completed: 0 }));
                
                // Contar h√°bitos completados por dia
                habits.forEach(habit => {
                    if (habit.lastCompleted) {
                        // Verificar se a data de √∫ltimo completado √© v√°lida
                        try {
                            const completedDate = new Date(habit.lastCompleted);
                            if (isNaN(completedDate.getTime())) {
                                // Se a data √© inv√°lida, pular este h√°bito
                                return;
                            }
                            
                            const dayDiff = Math.floor((today - completedDate) / (1000 * 60 * 60 * 24));
                            
                            // Se foi completado nesta semana (√∫ltimos 7 dias)
                            if (dayDiff <= 6 && dayDiff >= 0) {
                                const dayIndex = completedDate.getDay();
                                weekData[dayIndex].completed += 1;
                            }
                        } catch (e) {
                            console.error("Erro ao processar data:", e);
                        }
                    }
                });
                
                // Reorganizar a semana come√ßando pela segunda-feira
                const reorderedWeekData = [
                    ...weekData.slice(1), // Seg a S√°b
                    weekData[0]           // Dom no final
                ];
                
                setWeeklyProgress(reorderedWeekData);
            }, [habits]);

            // Efeito para monitorar XP e subir de n√≠vel
            useEffect(() => {
                if (player.xp >= player.xpToNextLevel) {
                    setPlayer(prev => ({
                        ...prev,
                        level: prev.level + 1,
                        xp: prev.xp - prev.xpToNextLevel,
                        xpToNextLevel: Math.floor(prev.xpToNextLevel * 1.5)
                    }));
                }
            }, [player.xp, player.xpToNextLevel]);

            // Handlers
            const handleCompleteHabit = (habit) => {
                const today = new Date();
                const todayFormatted = today.toLocaleDateString('pt-BR', { 
                    weekday: 'short', 
                    day: 'numeric', 
                    month: 'short' 
                });
                
                // Atualizar h√°bito
                const updatedHabits = habits.map(h => 
                    h.id === habit.id 
                        ? { ...h, completed: true, lastCompleted: todayFormatted }
                        : h
                );
                setHabits(updatedHabits);
                
                // Atualizar XP do jogador
                setPlayer(prev => ({
                    ...prev,
                    xp: Math.max(0, prev.xp + habit.xp) // XP n√£o pode ser negativo
                }));
                
                // Atualizar habilidades relacionadas
                const updatedSkills = skills.map(skill => {
                    if (habit.type === 'good') {
                        const xpGain = Math.floor(habit.xp * (0.2 + Math.random() * 0.3));
                        const newXp = skill.xp + xpGain;
                        
                        if (newXp >= skill.xpToNext) {
                            return {
                                ...skill,
                                level: skill.level + 1,
                                xp: newXp - skill.xpToNext,
                                xpToNext: Math.floor(skill.xpToNext * 1.5)
                            };
                        }
                        
                        return { ...skill, xp: newXp };
                    }
                    return skill;
                });
                
                setSkills(updatedSkills);
                setCompletedHabit(habit);
            };

            const handleAddHabit = (newHabitData) => {
                const newHabit = {
                    id: Date.now(),
                    icon: newHabitData.type === 'good' ? '‚≠ê' : '‚ö†Ô∏è',
                    text: newHabitData.text,
                    type: newHabitData.type,
                    xp: newHabitData.type === 'good' ? 15 : -10,
                    completed: false,
                    lastCompleted: null
                };
                setHabits([...habits, newHabit]);
                setShowAddHabitModal(false);
            };

            const handleResetDay = () => {
                const today = new Date().toDateString();
                localStorage.setItem('lastReset', today);
                setHabits(prevHabits => 
                    prevHabits.map(habit => ({
                        ...habit,
                        completed: false
                    }))
                );
            };

            // Componentes de UI
            const ProgressCircle = ({ radius, stroke, progress }) => {
                const normalizedRadius = radius - stroke * 2;
                const circumference = normalizedRadius * 2 * Math.PI;
                const strokeDashoffset = circumference - (progress / 100) * circumference;

                return (
                    <svg height={radius * 2} width={radius * 2} className="transform -rotate-90">
                        <circle stroke="#4a5568" fill="transparent" strokeWidth={stroke} r={normalizedRadius} cx={radius} cy={radius} />
                        <circle 
                            stroke={isSuperSaiyan ? "#f59e0b" : "#3b82f6"} 
                            fill="transparent" 
                            strokeWidth={stroke} 
                            strokeDasharray={circumference + ' ' + circumference} 
                            style={{ strokeDashoffset }} 
                            r={normalizedRadius} 
                            cx={radius} 
                            cy={radius} 
                        />
                        <text 
                            x="50%" 
                            y="50%" 
                            textAnchor="middle" 
                            dy=".3em" 
                            className="text-2xl font-bold fill-white -rotate-90 transform-gpu" 
                            style={{ transform: 'rotate(90deg)', transformOrigin: '50% 50%' }}
                        >
                            {`${Math.round(progress)}%`}
                        </text>
                    </svg>
                );
            };

            const PlayerStats = ({ player, isSuperSaiyan }) => {
                const xpPercentage = (player.xp / player.xpToNextLevel) * 100;
                
                return (
                    <div className={`p-4 rounded-lg mb-6 ${isSuperSaiyan ? 'bg-yellow-400/10 border-yellow-500' : 'bg-gray-800/50 border-gray-700'} border`}>
                        <div className="flex items-center space-x-4 mb-4">
                            <img src={player.avatar} alt="Player Avatar" className="w-16 h-16 rounded-full border-2 border-gray-700"/>
                            <div className="flex-1">
                                <p className="font-bold text-lg">{player.name}</p>
                                <p className={`text-sm ${isSuperSaiyan ? 'text-yellow-300' : 'text-blue-300'} font-semibold`}>{status}</p>
                                <p className="text-xs text-gray-400">XP: {player.xp} / {player.xpToNextLevel}</p>
                            </div>
                            <div className="w-20 h-20">
                                <ProgressCircle radius={40} stroke={6} progress={xpPercentage} />
                            </div>
                        </div>
                        
                        {/* XP Bar */}
                        <div className="w-full bg-gray-700 rounded-full h-4">
                            <div 
                                className={`h-4 rounded-full xp-bar-transition ${isSuperSaiyan ? 'bg-yellow-400' : 'bg-blue-500'}`}
                                style={{ width: `${xpPercentage}%` }}
                            ></div>
                        </div>
                    </div>
                );
            };

            const HabitItem = ({ habit, onComplete, isSuperSaiyan }) => {
                const buttonClass = `px-4 py-1 text-sm font-bold rounded-md transition-transform transform hover:scale-105 ${habit.completed ? 'opacity-50 cursor-not-allowed' : ''}`;
                
                const goodButtonClass = `${buttonClass} ${isSuperSaiyan ? 'bg-yellow-400 hover:bg-yellow-300 text-yellow-900' : 'bg-green-400 hover:bg-green-300 text-green-900'}`;
                const badButtonClass = `${buttonClass} bg-red-500 hover:bg-red-400 text-red-900`;
                
                const completedClass = habit.completed ? "opacity-50 line-through" : "";

                return (
                    <div className={`bg-gray-800 p-4 rounded-lg flex items-center justify-between ${completedClass}`}>
                        <div className="flex items-center space-x-3 flex-grow">
                            <span className="text-2xl">{habit.icon}</span>
                            <div>
                                <div>{habit.text}</div>
                                {habit.lastCompleted && (
                                    <div className="text-xs text-gray-400">Completado: {habit.lastCompleted}</div>
                                )}
                            </div>
                        </div>
                        {habit.type === 'good' ? (
                            <button 
                                onClick={() => onComplete(habit)} 
                                disabled={habit.completed} 
                                className={goodButtonClass}
                            >
                                +{habit.xp} XP
                            </button>
                        ) : (
                            <button 
                                onClick={() => onComplete(habit)} 
                                disabled={habit.completed} 
                                className={badButtonClass}
                            >
                                {habit.xp} XP
                            </button>
                        )}
                    </div>
                );
            };

            const AddHabitModal = ({ onAddHabit, onClose }) => {
                const [text, setText] = useState('');
                const [type, setType] = useState('good');

                const handleSubmit = (e) => {
                    e.preventDefault();
                    if (!text.trim()) return;
                    onAddHabit({ text, type });
                    setText('');
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
                        <form onSubmit={handleSubmit} className="bg-gray-800 p-6 rounded-lg w-full max-w-sm">
                            <div className="flex justify-between items-start mb-4">
                                <h3 className="text-lg font-bold">Adicionar Novo H√°bito</h3>
                                <button onClick={onClose} className="text-gray-400 hover:text-white text-2xl">√ó</button>
                            </div>
                            <input
                                type="text"
                                value={text}
                                onChange={(e) => setText(e.target.value)}
                                placeholder="Ex: Meditar por 10 minutos"
                                className="w-full p-3 rounded bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-3"
                                autoFocus
                            />
                            <div className="flex gap-4 mb-3">
                                <label className="flex items-center gap-2">
                                    <input 
                                        type="radio" 
                                        name="type" 
                                        value="good" 
                                        checked={type === 'good'} 
                                        onChange={(e) => setType(e.target.value)} 
                                        className="form-radio text-green-500 bg-gray-700"
                                    />
                                    <span>Bom H√°bito</span>
                                </label>
                                <label className="flex items-center gap-2">
                                    <input 
                                        type="radio" 
                                        name="type" 
                                        value="bad" 
                                        checked={type === 'bad'} 
                                        onChange={(e) => setType(e.target.value)} 
                                        className="form-radio text-red-500 bg-gray-700"
                                    />
                                    <span>Mau H√°bito</span>
                                </label>
                            </div>
                            <div className="flex justify-end space-x-3">
                                <button type="button" onClick={onClose} className="px-4 py-2 rounded-md bg-gray-600 hover:bg-gray-500 transition-colors">Cancelar</button>
                                <button type="submit" className="px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500 transition-colors">Adicionar</button>
                            </div>
                        </form>
                    </div>
                );
            };

            const CompletionModal = ({ habit, player, onClose, isSuperSaiyan }) => {
                if (!habit) return null;
                
                const characteristics = [
                    { name: 'For√ßa', xp: (habit.xp * 0.3).toFixed(2) },
                    { name: 'Intelig√™ncia', xp: (habit.xp * 0.2).toFixed(2) },
                    { name: 'Disciplina', xp: (habit.xp * 0.4).toFixed(2) },
                ];

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50" onClick={onClose}>
                        <div className="bg-gray-800 rounded-lg p-6 w-full max-w-md shadow-2xl" onClick={e => e.stopPropagation()}>
                            <div className="flex justify-between items-start mb-4">
                                <div>
                                    <h2 className="text-xl font-bold">Tarefa realizada!</h2>
                                    <p className="text-gray-400 flex items-center mt-1">
                                        <span className="text-xl mr-2">{habit.icon}</span>
                                        {habit.text}
                                    </p>
                                </div>
                                <button onClick={onClose} className="text-gray-400 hover:text-white text-2xl">√ó</button>
                            </div>
                            <div className={`p-4 rounded-md mb-4 ${isSuperSaiyan ? 'bg-yellow-500/20' : 'bg-blue-500/20'}`}>
                                <p className="font-semibold">{player.name}</p>
                                <div className="flex items-center space-x-2 text-green-400">
                                    <p>+{habit.xp} XP</p>
                                    {isSuperSaiyan && <span className="text-yellow-300 font-bold animate-pulse">SUPER SAIYAN MODE!</span>}
                                </div>
                            </div>
                            <div>
                                <h3 className="font-semibold text-lg mb-2">Habilidades melhoradas:</h3>
                                <div className="space-y-2">
                                    {characteristics.map(char => (
                                        <div key={char.name} className="flex justify-between items-center bg-gray-700 p-3 rounded-md">
                                            <div>
                                                <p>{char.name}</p>
                                                <p className="text-sm text-green-400">+{char.xp} XP</p>
                                            </div>
                                            <div className="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center font-bold text-sm">
                                                {Math.floor(Math.random() * 5 + 1)}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div className="mt-6 flex justify-end">
                                <button onClick={onClose} className="bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-6 rounded-lg transition-colors">
                                    Continuar
                                </button>
                            </div>
                        </div>
                    </div>
                );
            };

            const HabitsView = ({ habits, onCompleteHabit, isSuperSaiyan }) => (
                <div className="space-y-4">
                    <div className="flex justify-between items-center">
                        <h2 className="text-xl font-bold text-green-400">Bons H√°bitos</h2>
                        <button 
                            onClick={handleResetDay}
                            className="px-3 py-1 bg-gray-600 hover:bg-gray-500 text-white text-sm rounded-md"
                        >
                            Resetar Dia
                        </button>
                    </div>
                    <div className="space-y-2">
                        {habits.filter(h => h.type === 'good').map(habit => (
                            <HabitItem 
                                key={habit.id} 
                                habit={habit} 
                                onComplete={onCompleteHabit} 
                                isSuperSaiyan={isSuperSaiyan} 
                            />
                        ))}
                    </div>
                    
                    <div>
                        <h2 className="text-xl font-bold mb-3 text-red-400">Maus H√°bitos</h2>
                        <div className="space-y-2">
                            {habits.filter(h => h.type === 'bad').map(habit => (
                                <HabitItem 
                                    key={habit.id} 
                                    habit={habit} 
                                    onComplete={onCompleteHabit} 
                                    isSuperSaiyan={isSuperSaiyan} 
                                />
                            ))}
                        </div>
                    </div>
                    
                    <button 
                        onClick={() => setShowAddHabitModal(true)}
                        className="fixed bottom-6 right-6 bg-amber-500 hover:bg-amber-600 text-white w-16 h-16 rounded-full flex items-center justify-center text-4xl shadow-lg transition-transform transform hover:scale-110"
                    >
                        +
                    </button>
                </div>
            );

            const DashboardView = ({ progressData, isSuperSaiyan }) => {
                if (!progressData || progressData.length === 0) {
                    return (
                        <div className="bg-gray-800 rounded-lg p-6">
                            <h2 className="text-xl font-bold mb-4">Acompanhamento Semanal</h2>
                            <p className="text-gray-400">Nenhum h√°bito completado esta semana ainda.</p>
                        </div>
                    );
                }

                const maxCompleted = Math.max(...progressData.map(d => d.completed), 1);
                
                return (
                    <div className="bg-gray-800 rounded-lg p-6">
                        <h2 className="text-xl font-bold mb-4">Acompanhamento Semanal</h2>
                        <div className="flex justify-between items-end h-48 space-x-1">
                            {progressData.map(data => (
                                <div key={data.day} className="flex flex-col items-center flex-1">
                                    <div className="text-xs text-gray-400 mb-1">{data.completed}</div>
                                    <div className="w-full bg-gray-700 rounded-t-md flex-grow flex items-end relative">
                                        <div 
                                            className={`w-full rounded-t-md ${isSuperSaiyan ? 'bg-yellow-500' : 'bg-blue-500'}`} 
                                            style={{ height: `${(data.completed / maxCompleted) * 90}%` }}
                                        ></div>
                                    </div>
                                    <p className="text-xs text-gray-400 mt-2">{data.day}</p>
                                </div>
                            ))}
                        </div>
                        <div className="mt-4 text-center text-sm text-gray-400">
                            H√°bitos completados por dia esta semana
                        </div>
                    </div>
                );
            };

            const SkillsView = ({ skills, isSuperSaiyan }) => (
                <div className="bg-gray-800 rounded-lg p-6">
                    <h2 className="text-xl font-bold mb-4">Minhas Habilidades</h2>
                    <div className="space-y-4">
                        {skills.map(skill => {
                            const progress = (skill.xp / skill.xpToNext) * 100;
                            
                            return (
                                <div key={skill.name}>
                                    <div className="flex justify-between mb-1">
                                        <span className="font-semibold">{skill.name} - N√≠vel {skill.level}</span>
                                        <span className="text-sm text-gray-400">{skill.xp} / {skill.xpToNext} XP</span>
                                    </div>
                                    <div className="w-full bg-gray-700 rounded-full h-2.5">
                                        <div 
                                            className={`h-2.5 rounded-full ${isSuperSaiyan ? 'bg-yellow-500' : 'bg-blue-500'}`} 
                                            style={{ width: `${progress}%` }}
                                        ></div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );

            // Renderiza√ß√£o principal
            return (
                <div className={`min-h-screen p-4 md:p-6 transition-all duration-500 ${isSuperSaiyan ? 'bg-gradient-to-br from-yellow-900/50 via-gray-900 to-gray-900 super-saiyan-aura' : 'bg-gray-900'}`}>
                    <div className="max-w-2xl mx-auto">
                        <header className="mb-6">
                            <h1 className="text-3xl font-bold mb-2">Habit Tracker - Saiyan Mode</h1>
                            <div className="flex items-center space-x-6 text-gray-400 border-b-2 border-gray-800">
                                <span 
                                    className={`tab ${activeTab === 'habitos' ? 'tab-active' : ''}`} 
                                    onClick={() => setActiveTab('habitos')}
                                >
                                    H√ÅBITOS
                                </span>
                                <span 
                                    className={`tab ${activeTab === 'dashboard' ? 'tab-active' : ''}`} 
                                    onClick={() => setActiveTab('dashboard')}
                                >
                                    DASHBOARD
                                </span>
                                <span 
                                    className={`tab ${activeTab === 'habilidades' ? 'tab-active' : ''}`} 
                                    onClick={() => setActiveTab('habilidades')}
                                >
                                    HABILIDADES
                                </span>
                            </div>
                        </header>
                        
                        <PlayerStats player={player} isSuperSaiyan={isSuperSaiyan} />
                        
                        <main>
                            {activeTab === 'habitos' && (
                                <HabitsView 
                                    habits={habits} 
                                    onCompleteHabit={handleCompleteHabit} 
                                    isSuperSaiyan={isSuperSaiyan} 
                                />
                            )}
                            {activeTab === 'dashboard' && (
                                <DashboardView 
                                    progressData={weeklyProgress} 
                                    isSuperSaiyan={isSuperSaiyan} 
                                />
                            )}
                            {activeTab === 'habilidades' && (
                                <SkillsView 
                                    skills={skills} 
                                    isSuperSaiyan={isSuperSaiyan} 
                                />
                            )}
                        </main>
                        
                        {showAddHabitModal && (
                            <AddHabitModal 
                                onAddHabit={handleAddHabit} 
                                onClose={() => setShowAddHabitModal(false)} 
                            />
                        )}
                        
                        <CompletionModal 
                            habit={completedHabit} 
                            player={player} 
                            onClose={() => setCompletedHabit(null)} 
                            isSuperSaiyan={isSuperSaiyan}
                        />
                    </div>
                </div>
            );
        };

        // Renderizar o aplicativo
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<HabitTrackerPage />);
    </script>
</body>
</html>
